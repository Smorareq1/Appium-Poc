[pytest]
# Directorios donde buscar tests
testpaths = tests

# Patrones de archivos de test
python_files = test_*.py *_test.py

# Patrones de clases de test
python_classes = Test* Login*

# Patrones de funciones de test
python_functions = test_*

# Markers personalizados (evita warnings)
markers =
    smoke: Pruebas críticas que deben pasar siempre.
    regression: Suite completa de pruebas de regresión.
    performance: Pruebas de rendimiento y carga.
    xray(issue_key): Enlaza el test con un issue de Xray
    login: Tests específicos de login
    navigation: Tests de navegación
    ui: Tests de interfaz de usuario

# Opciones por defecto más básicas (se personalizan por comando)
addopts = -v --tb=short

# Logging en la consola
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s (%(filename)s:%(lineno)s)
log_cli_date_format = %H:%M:%S

# Configuración específica para JUnit XML (compatible con Xray)
junit_family = xunit2
junit_logging = all
junit_log_passing_tests = true

# Directorio base para todos los reportes
# Se usará desde los scripts de ejecución
# junit_suite_name se define dinámicamente